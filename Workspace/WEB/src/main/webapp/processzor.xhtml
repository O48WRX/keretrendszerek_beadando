<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

	<ui:composition template="">
	</ui:composition>
	
	<h:head></h:head> 
	<body> 
	<h1>Processors</h1>
	<hr></hr>
	<h2>>Add processor</h2>
	<form method="post">
		<p>Name: <input type="text" name="pname"></input>></p>
		<input type="submit" value="Beküldés"></input>
	</form>
	<hr></hr>
	<h2>Processors in storage</h2>
	
	<table id="contentTable">
		<tr>
			<th>Id</th>
			<th>Price</th>
			<th>Processor</th>
		</tr>
		<script>
			var url = "http://localhost:8080/SERVLET/ProcesszorServlet"
			var responseData
			var responseArray

			function httpGet(theUrl)
			{
			    var xmlHttp = new XMLHttpRequest();
			    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
			    xmlHttp.send( null );
			    return xmlHttp.responseText;
			} 

			responseData = httpGet(url)
			console.log(responseData)
			
			responseArray = responseData.split(',')
			console.log(responseArray)
			
			var table = document.getElementById("contentTable")
			
			for(var i = 0; i &lt; responseArray.length - 1; i++) {
				var row = table.insertRow()
				var cell = row.insertCell()
				var cell1 = row.insertCell()
				var cell2 = row.insertCell()

				cell.innerHTML = responseArray[i]
				cell1.innerHTML = responseArray[i + 1]
				cell2.innerHTML = responseArray[i + 2]
				i = i + 2
			}
			
		</script>
	</table>
	
	</body> 
	
</html>